<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Convert dates and times to ISO 8601 — iso8601_convert • dataCleanr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Convert dates and times to ISO 8601 — iso8601_convert" />
<meta property="og:description" content="Convert date and time strings into standard ISO 8601 formatted strings,
   with output temporal resolution matching inputs, and full support of 
   timezone offsets.   
NOTE: This function does not convert to all ISO 8601 formats. Currently
   supported formats include calendar dates, times, time zones, and valid
   combinations of these. Week dates, ordinal dates, and time intervals are 
   not yet supported." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dataCleanr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/iso8601_functions.html">Using the iso8601 functions</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/EDIorg/dataCleanr/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Convert dates and times to ISO 8601</h1>
    <small class="dont-index">Source: <a href='https://github.com/EDIorg/dataCleanr/blob/master/R/iso8601_convert.R'><code>R/iso8601_convert.R</code></a></small>
    <div class="hidden name"><code>iso8601_convert.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Convert date and time strings into standard ISO 8601 formatted strings,
   with output temporal resolution matching inputs, and full support of 
   timezone offsets.</p>   
<p>NOTE: This function does not convert to all ISO 8601 formats. Currently
   supported formats include calendar dates, times, time zones, and valid
   combinations of these. Week dates, ordinal dates, and time intervals are 
   not yet supported.</p>
    </div>

    <pre class="usage"><span class='fu'>iso8601_convert</span>(<span class='no'>x</span>, <span class='no'>orders</span>, <span class='kw'>tz</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>truncated</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>exact</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
    <span class='kw'>train</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>drop</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>return.format</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>(character) A vector of date and time, date, or time strings.</p></td>
    </tr>
    <tr>
      <th>orders</th>
      <td><p>(character) <em>From lubridate 1.7.4.90000 documentation:</em>
 A vector of date-time formats. Each order string is a series 
 of formatting characters as listed in `base::strptime()` but might not 
 include the "<!-- %" prefix. For example, "ymd" will match all the possible -->
 dates in year, month, day order. Formatting orders might include 
 arbitrary separators. These are discarded. See details for implemented 
 formats.</p> 
<p>The list below contains recognized formats.</p><ul>
<li><p>y Year without centry (00--99 or 0--99). Also matches with
     centry format (Y).</p></li>
<li><p>Y Year with century.</p></li>
<li><p>m Month as decimal number (01--12 or 1--12).</p></li>
<li><p>b Abbreviated or full month name in the current locale. The 
     C parser currently understands only English month names.</p></li>
<li><p>d Day of the month as decimal number (01--31 or 1--31).</p></li>
<li><p>H Hours as decimal number (00--24 or 0--24).</p></li>
<li><p>M Minute as decimal number (00--59 or 0--59)</p></li>
<li><p>S Second as decimal number (00--61 or 0--61), allowing for
     up to two leap-seconds.</p></li>
<li><p>OS Fractional second.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>tz</th>
      <td><p>(character) Time zone offset with respect to UTC. Acceptable formats
are: +hh, -hh, +hh:mm, -hh:mm. Use "Z" to denote UTC. If an invalid time
zone is entered, then an error is returned. Acceptable time zone offsets
are listed here <a href='https://en.wikipedia.org/wiki/List_of_tz_database_time_zones'>https://en.wikipedia.org/wiki/List_of_tz_database_time_zones</a>.
NOTE: This argument is different than `tz` supplied to 
`lubridate::parse_date_time`.</p></td>
    </tr>
    <tr>
      <th>truncated</th>
      <td><p>(integer) <em>From lubridate 1.7.4.90000 documentation:</em>
Number of formats that can be missing. The most common type of
irregularity in date-time data is the truncation due to rounding or 
unavailability of the time stamp. If the `truncated` parameter is 
non-zero, then truncated formats are also checked. For example, if the
format order is "ymdHMS" and `truncated = 3`, then incomplete date-times
like `2012-06-01 12:23`, `2012-06-01 12`, and `2012-06-01` are parsed.
<em>The above definition was slightly modified from lubridate 
1.7.4.90000 documentation.</em></p></td>
    </tr>
    <tr>
      <th>exact</th>
      <td><p>(logical) <em>From lubridate 1.7.4.90000 documentation:</em>
If `TRUE`, the `orders` parameter is interpreted as an exact 
`base::strptime()` format and no training or guessing are performed 
(i.e. `train`, `drop` parameters are irrelevant). <em>The above 
definition was copied directly from lubridate 1.7.4.90000 
documentation.</em></p></td>
    </tr>
    <tr>
      <th>train</th>
      <td><p>(logical) <em>From lubridate 1.7.4.90000 documentation:</em>
Whether to train formats on a subset of the input vector. The
resut of this is that supplied orders are sorted according to 
performance on this training set, which commonly results in increased 
performance. Please note that even when `train = FALSE` (and 
`exact = FALSE`) guessing of the actual formats is still performed on a 
pseudo-random subset of the original input vector. This might result in
`All formats failed to parse` error. <em>The above definition was 
copied directly from lubridate 1.7.4.90000 documentation.</em></p></td>
    </tr>
    <tr>
      <th>drop</th>
      <td><p>(logical) <em>From lubridate 1.7.4.90000 documentation:</em>
Whether to drop formats that didn't match on the training set.
If `FALSE`, unmatched on the training set formats are tried as a laast 
resort at the end of the parsing queue. Applies only when 
`train = TRUE`. Setting this parameter to `TRUE` might slightly speed 
up parsing in situations involving many formats. Prior to v1.7.0 this 
parameter was implicitly `TRUE`, which resulted in occasional surprising 
behavior when rare patterns where not present in the training set.
<em>The above definition was copied directly from lubridate 
1.7.4.90000 documentation.</em></p></td>
    </tr>
    <tr>
      <th>return.format</th>
      <td><p>(logical) Should format specifiers be returned with the output data? 
This argument supports identification of where differences in output
temporal resolution occur.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>(character) A vector of dates and times in the ISO 8601 standard in the 
    temporal resolution of the input date and time strings. The ISO 8601 
    standard format output by this function is a combination of calendar 
    dates, times, time zone offsets, and valid combinations of these.</p>    
<p>(data frame) If `return.format` is `TRUE` then a data frame is returned
    containing the input data, converted data, and formats of the converted 
    data. This supports identification of where differences in output 
    temporal resolution occur.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>`iso8601_convert` leverages the power of `lubridate::parse_date_time` to 
   parse dates and times, then uses regular expressions on the `orders` 
   argument to identify the temporal resolution of the input data, and then 
   outputs the converted data in this same resolution. Most of the arguments
   available to `lubridate::parse_date_time` can be used with 
   `iso8601_convert`.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>   <span class='co'># Convert dates and times of varying temporal resolution</span>
   <span class='fu'>iso8601_convert</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='st'>'2012'</span>, <span class='kw'>orders</span> <span class='kw'>=</span> <span class='st'>'y'</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: Some data failed to parse. Consider updating your list of orders.</span></div><div class='output co'>#&gt; [1] NA</div><div class='input'>   <span class='fu'>iso8601_convert</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='st'>'01/05/2012'</span>, <span class='kw'>orders</span> <span class='kw'>=</span> <span class='st'>'dmy'</span>)</div><div class='output co'>#&gt; [1] "2012-05-01"</div><div class='input'>   <span class='fu'>iso8601_convert</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='st'>'01-May-2012'</span>, <span class='kw'>orders</span> <span class='kw'>=</span> <span class='st'>'dby'</span>)</div><div class='output co'>#&gt; [1] "2012-05-01"</div><div class='input'>   <span class='fu'>iso8601_convert</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='st'>'132954'</span>, <span class='kw'>orders</span> <span class='kw'>=</span> <span class='st'>'HMS'</span>)</div><div class='output co'>#&gt; [1] "13:29:54"</div><div class='input'>   <span class='fu'>iso8601_convert</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='st'>'132954'</span>, <span class='kw'>orders</span> <span class='kw'>=</span> <span class='st'>'HMS'</span>, <span class='kw'>tz</span> <span class='kw'>=</span> <span class='st'>'-05'</span>)</div><div class='output co'>#&gt; [1] "13:29:54-05"</div><div class='input'>   <span class='fu'>iso8601_convert</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='st'>'20120501 132954'</span>, <span class='kw'>orders</span> <span class='kw'>=</span> <span class='st'>'Ymd HMS'</span>, <span class='kw'>tz</span> <span class='kw'>=</span> <span class='st'>'-05'</span>)</div><div class='output co'>#&gt; [1] "2012-05-01T13:29:54-05"</div><div class='input'>
   <span class='co'># Some variation of input format is supported as long as orders are defined.</span>
   <span class='co'># NOTE: Output resolution matches input resolution.</span>
   <span class='fu'>iso8601_convert</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>'2012-05-01 13:29:54'</span>, <span class='st'>'2012-05-01 13:29'</span>, <span class='st'>'1/5/2012 13'</span>), <span class='kw'>orders</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>'ymd_HMS'</span>, <span class='st'>'ymd_HM'</span>, <span class='st'>'dmy_H'</span>))</div><div class='output co'>#&gt; <span class='warning'>Warning: Converted data contains multiple levels of temporal resolution. Use the argument "return.format = T" to see where.</span></div><div class='output co'>#&gt; [1] "2012-05-01T13:29:54" "2012-05-01T13:29"    "2012-05-01T13"      </div><div class='input'>
   <span class='co'># Force output resolution to be the same</span>
   <span class='fu'>iso8601_convert</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>'2012-05-01 13:29:54'</span>, <span class='st'>'2012-05-01 13:29'</span>, <span class='st'>'1/5/2012 13'</span>), <span class='kw'>orders</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>'ymd_HMS'</span>, <span class='st'>'ymd_HMS'</span>, <span class='st'>'dmy_HMS'</span>), <span class='kw'>truncated</span> <span class='kw'>=</span> <span class='fl'>3</span>)</div><div class='output co'>#&gt; [1] "2012-05-01T13:29:54" "2005-12-20T01:13:29" "2012-05-01T13:00:00"</div><div class='input'>
   <span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
   <span class='co'># Invalid time zones result in an error</span>
   <span class='fu'>iso8601_convert</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='st'>'2012-05-01 13:29'</span>, <span class='kw'>orders</span> <span class='kw'>=</span> <span class='st'>'ymd HM'</span>, <span class='kw'>tz</span> <span class='kw'>=</span> <span class='st'>'+18'</span>)
   }</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Colin Smith.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


